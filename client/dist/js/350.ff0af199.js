"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[350],{1765:function(a,e,l){l.d(e,{Z:function(){return W}});l(7658);var s=l(3396),i=l(7139),n=l(7674),t=l(3718),u=l(4870),c=l(4161),d=l(2483);const o=a=>((0,s.dD)("data-v-4cefafa0"),a=a(),(0,s.Cn)(),a),r={class:"navbar is-hidden-desktop"},v={class:"navbar-brand"},_={class:"navbar-item"},m={class:"label"},w=o((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),p=o((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),h=o((()=>(0,s._)("span",{"aria-hidden":"true"},null,-1))),f=[w,p,h],b=o((()=>(0,s._)("figure",{class:"image is-128x128",style:{margin:"auto"}},[(0,s._)("img",{src:n})],-1))),k={class:"title is-2 has-text-centered has-text-white is-hidden-mobile"},g={class:"subtitle has-text-centered has-text-white is-hidden-mobile"},y=o((()=>(0,s._)("hr",null,null,-1))),U=o((()=>(0,s._)("br",null,null,-1))),C={key:0,class:"menu-list has-text-centered"},H={key:1,class:"menu-list has-text-centered"};var S=(0,s.aZ)({__name:"NavPanel",setup(a){const e=(0,d.tv)(),l=(0,t.c)(),n=(0,u.iH)(l.$state.credentials),o=(0,u.iH)(n.value.name),w=(0,u.iH)(n.value.handler),p=(0,u.iH)(!1);async function h(){await c.Z["delete"]("/session"),l.$reset(),e.push("/")}return(a,e)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",r,[(0,s._)("div",v,[(0,s._)("a",_,[(0,s._)("label",m,(0,i.zw)(o.value)+" ("+(0,i.zw)(w.value)+")",1)]),(0,s._)("a",{role:"button",class:(0,i.C_)(["navbar-burger",{"is-active":p.value}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:e[0]||(e[0]=a=>p.value=!p.value)},f,2)])]),(0,s._)("aside",{class:(0,i.C_)(["menu box",{"is-hidden-mobile":!p.value,"is-menu-fullheight-fullwidth":p.value}])},[b,(0,s._)("h2",k,(0,i.zw)(o.value),1),(0,s._)("p",g,"("+(0,i.zw)(w.value)+")",1),y,U,"admin"===w.value?((0,s.wg)(),(0,s.iD)("ul",C,[(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"adminDashboard"}},{default:(0,s.w5)((()=>[(0,s.Uk)("OVERVIEW")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"adminStudentRecords"}},{default:(0,s.w5)((()=>[(0,s.Uk)("STUDENT RECORDS")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"adminAccounts"}},{default:(0,s.w5)((()=>[(0,s.Uk)("ACCOUNTS")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"adminSecurity"}},{default:(0,s.w5)((()=>[(0,s.Uk)("SECURITY")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"adminSupport"}},{default:(0,s.w5)((()=>[(0,s.Uk)("SUPPORT")])),_:1})]),(0,s._)("li",null,[(0,s._)("a",{onClick:h},"LOGOUT")])])):((0,s.wg)(),(0,s.iD)("ul",H,[(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"studentGrades"}},{default:(0,s.w5)((()=>[(0,s.Uk)("GRADES")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:{name:"studentSecurity"}},{default:(0,s.w5)((()=>[(0,s.Uk)("SECURITY")])),_:1})]),(0,s._)("li",null,[(0,s._)("a",{onClick:h},"LOGOUT")])]))],2)],64)}}}),D=l(89);const x=(0,D.Z)(S,[["__scopeId","data-v-4cefafa0"]]);var W=x},1350:function(a,e,l){l.r(e),l.d(e,{default:function(){return T}});var s=l(3396),i=l(9242),n=l(4870),t=l(1765),u=l(4161),c=l(3718),d=l(8976);const o={class:""},r={class:"columns"},v={class:"column is-2"},_={class:"column"},m={class:"section is-medium"},w={class:"container is-fluid"},p={class:"box"},h={class:"field"},f=(0,s._)("label",{class:"label"},"Old Password",-1),b={class:"control"},k={class:"field"},g=(0,s._)("label",{class:"label"},"New Password",-1),y={class:"control"},U={key:0,class:"help is-danger"},C={class:"field"},H=(0,s._)("label",{class:"label"},"Repeat New Password",-1),S={class:"control"},D={key:0,class:"help is-danger"},x={key:0,class:"notification is-warning"},W={key:1,class:"notification is-success"},O={class:"buttons"},P=["disabled"];var R=(0,s.aZ)({__name:"SecurityView",setup(a){const e=(0,c.c)(),l=(0,n.iH)(""),R=(0,n.iH)(""),Z=(0,n.iH)(e.$state.credentials),T=(0,n.iH)(Z.value._id),E=(0,n.iH)(),V=(0,n.iH)(""),q=(0,n.iH)(""),N=(0,n.iH)(""),Y=(0,n.iH)(!1),z=(0,n.iH)(!1);(0,s.bv)((async()=>{await u.Z.post("/api/account/inquire",{id:T.value}).then((a=>E.value=a.data)).catch((a=>{l.value=a.code,R.value=a.message}))}));const G=(0,s.Fl)((()=>q.value==N.value));async function I(){Y.value=!1,z.value=!1,V.value==E.value.password&&G.value?(await u.Z.put(`/api/account/${T.value}`,{password:q.value}).catch((a=>{l.value=a.code,R.value=a.message})),V.value="",q.value="",N.value="",z.value=!0):G.value&&(Y.value=!0)}return(a,e)=>((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s._)("div",v,[(0,s.Wm)(t.Z)]),(0,s._)("div",_,[(0,s._)("section",m,[(0,s._)("div",w,[(0,s.Wm)(d.Z,{"err-code":l.value,"err-message":R.value},null,8,["err-code","err-message"]),(0,s._)("div",p,[(0,s._)("div",h,[f,(0,s._)("div",b,[(0,s.wy)((0,s._)("input",{type:"password",class:"input","onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a)},null,512),[[i.nr,V.value]])])]),(0,s._)("div",k,[g,(0,s._)("div",y,[(0,s.wy)((0,s._)("input",{type:"password",class:"input","onUpdate:modelValue":e[1]||(e[1]=a=>q.value=a)},null,512),[[i.nr,q.value]])]),(0,n.SU)(G)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",U,"Password not matched."))]),(0,s._)("div",C,[H,(0,s._)("div",S,[(0,s.wy)((0,s._)("input",{type:"password",class:"input","onUpdate:modelValue":e[2]||(e[2]=a=>N.value=a)},null,512),[[i.nr,N.value]])]),(0,n.SU)(G)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",D,"Password not matched."))]),Y.value?((0,s.wg)(),(0,s.iD)("div",x,"Your old password is incorrect. Please try again or contact your school administrator to have your password changed in case if you forgot your old password.")):(0,s.kq)("",!0),z.value?((0,s.wg)(),(0,s.iD)("div",W,"You have successfuly changed your password.")):(0,s.kq)("",!0),(0,s._)("div",O,[(0,s._)("button",{class:"button is-success",onClick:I,disabled:""==V.value||""==q.value||""==N.value},"Confirm",8,P)])])])])])])]))}});const Z=R;var T=Z}}]);
//# sourceMappingURL=350.ff0af199.js.map