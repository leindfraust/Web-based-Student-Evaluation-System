"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[134],{5812:function(e,a,l){l.d(a,{T:function(){return o}});var t=l(4161),n=l(4870),u=l(3718);const s=(0,u.c)(),i=(0,n.iH)(s.$state.credentials),c=(0,n.iH)(i.value._id),d=(0,n.iH)(i.value.name);function o(){async function e(e,a){try{await t.Z.post("/api/logs",{handlerID:c.value,handlerName:d.value,type:a,activity:e,time:new Date})}catch(l){return l}}return{updateLog:e}}},9052:function(e,a,l){l.d(a,{Z:function(){return S}});l(7658);var t=l(3396),n=l(7139),u=l(7674),s=l(3718),i=l(4870),c=l(4161),d=l(2483);const o=e=>((0,t.dD)("data-v-4e3b1b64"),e=e(),(0,t.Cn)(),e),v={class:"navbar is-hidden-desktop"},r={class:"navbar-brand"},_={class:"navbar-item"},m={class:"label"},p=o((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),h=o((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),w=o((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),b=[p,h,w],f=o((()=>(0,t._)("figure",{class:"image is-128x128",style:{margin:"auto"}},[(0,t._)("img",{src:u})],-1))),g={class:"title is-2 has-text-centered has-text-white is-hidden-mobile"},y={class:"subtitle has-text-centered has-text-white is-hidden-mobile"},k=o((()=>(0,t._)("hr",null,null,-1))),D=o((()=>(0,t._)("br",null,null,-1))),C={key:0,class:"menu-list has-text-centered"},U={key:1,class:"menu-list has-text-centered"};var A=(0,t.aZ)({__name:"NavPanel",setup(e){const a=(0,d.tv)(),l=(0,s.c)(),u=(0,i.iH)(l.$state.credentials),o=(0,i.iH)(u.value.name),p=(0,i.iH)(u.value.handler),h=(0,i.iH)(!1);async function w(){await c.Z["delete"]("/session"),l.$reset(),a.push("/")}return(e,a)=>{const l=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",v,[(0,t._)("div",r,[(0,t._)("a",_,[(0,t._)("label",m,(0,n.zw)(o.value)+" ("+(0,n.zw)(p.value)+")",1)]),(0,t._)("a",{role:"button",class:(0,n.C_)(["navbar-burger",{"is-active":h.value}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:a[0]||(a[0]=e=>h.value=!h.value)},b,2)])]),(0,t._)("aside",{class:(0,n.C_)(["menu box",{"is-hidden-mobile":!h.value,"is-menu-fullheight-fullwidth":h.value}])},[f,(0,t._)("h2",g,(0,n.zw)(o.value),1),(0,t._)("p",y,"("+(0,n.zw)(p.value)+")",1),k,D,"admin"===p.value?((0,t.wg)(),(0,t.iD)("ul",C,[(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"adminDashboard"}},{default:(0,t.w5)((()=>[(0,t.Uk)("OVERVIEW")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"adminStudentRecords"}},{default:(0,t.w5)((()=>[(0,t.Uk)("STUDENT RECORDS")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"adminAccounts"}},{default:(0,t.w5)((()=>[(0,t.Uk)("ACCOUNTS")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"adminSecurity"}},{default:(0,t.w5)((()=>[(0,t.Uk)("SECURITY")])),_:1})]),(0,t._)("li",null,[(0,t._)("a",{onClick:w},"LOGOUT")])])):((0,t.wg)(),(0,t.iD)("ul",U,[(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"studentGrades"}},{default:(0,t.w5)((()=>[(0,t.Uk)("GRADES")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(l,{to:{name:"studentSecurity"}},{default:(0,t.w5)((()=>[(0,t.Uk)("SECURITY")])),_:1})]),(0,t._)("li",null,[(0,t._)("a",{onClick:w},"LOGOUT")])]))],2)],64)}}}),H=l(89);const T=(0,H.Z)(A,[["__scopeId","data-v-4e3b1b64"]]);var S=T},6134:function(e,a,l){l.r(a),l.d(a,{default:function(){return ie}});var t=l(3396),n=l(7139),u=l(9242),s=l(4870),i=l(9052),c=l(8976),d=l(3718),o=l(4161),v=l(5812);const r={class:"main-wrapper"},_={class:"columns"},m={class:"column is-2"},p={class:"column"},h={class:"section"},w={key:0,class:"notification is-warning"},b=(0,t._)("b",null,"Admin",-1),f=(0,t._)("div",{class:"modal-background"},null,-1),g={class:"modal-content"},y={class:"container is-fluid box"},k={class:"title is-3"},D={class:"field"},C=(0,t._)("label",{class:"label"}," Account Type ",-1),U={class:"control"},A={class:"select"},H=(0,t._)("option",{value:"Admin"},"Admin",-1),T=(0,t._)("option",{value:"Teacher"},"Teacher",-1),S=(0,t._)("option",{value:"Student"},"Student",-1),Z=[H,T,S],x={class:"field"},E={class:"label"},z={class:"control"},N={class:"field"},W=(0,t._)("label",{class:"label"}," Account Username ",-1),$={class:"control"},O={class:"field"},V=(0,t._)("label",{class:"label"}," Account Password ",-1),I={class:"control"},L={class:"buttons is-centered"},R={class:"container"},G={class:"columns has-text-centered"},Y={class:"column"},q={class:"field header-control"},P={class:"control has-icons-right"},j=(0,t._)("span",{class:"icon is-right"},[(0,t._)("i",{class:"fas fa-search"})],-1),F={class:"column"},K={class:"field"},M={class:"control has-icons-right"},B=["disabled"],J=(0,t._)("i",{class:"fa-solid fa-plus"},null,-1),Q={key:0,class:"table-container"},X={key:0,class:"table is-fullwidth is-hoverable"},ee=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"No."),(0,t._)("th",null,"Name"),(0,t._)("th",null,"Username"),(0,t._)("th",null,"Type")])],-1),ae=["onClick"],le={key:1,class:"container"},te=(0,t._)("div",{class:"notification is-info"},"Empty accounts",-1),ne=[te];var ue=(0,t.aZ)({__name:"AccountsView",setup(e){const{updateLog:a}=(0,v.T)(),l=(0,d.c)(),H=(0,s.iH)(l.$state.credentials),T=(0,s.iH)(H.value.accountType),S=(0,s.iH)(),te=(0,s.iH)(""),ue=(0,s.iH)(""),se=(0,s.iH)(""),ie=(0,s.iH)(""),ce=(0,s.iH)(""),de=(0,s.iH)(""),oe=(0,s.iH)("Admin"),ve=(0,s.iH)(!1),re=(0,s.iH)(""),_e=(0,t.Fl)((()=>S.value.filter((e=>e.name.toLowerCase().includes(se.value.toLowerCase())))));async function me(){"Admin"==T.value&&""!==ie.value&&""!==ce.value&&""!==de.value&&(await o.Z.post("/api/account",{name:ie.value,username:ce.value,password:de.value,accountType:oe.value,handler:"Student"==oe.value?"student":"admin"}).catch((e=>{te.value=e.code,ue.value=e.message})),await o.Z.get("/api/account").then((e=>S.value=e.data)).catch((e=>{te.value=e.code,ue.value=e.message})),a(`Added account named: ${ie.value}`,"ADD").catch((e=>{te.value=e.code,ue.value=e.message})),be(),ve.value=!1)}function pe(e){"Admin"==T.value&&(re.value=e._id,ve.value=!0,ie.value=e.name,ce.value=e.username,de.value=e.password,oe.value=e.accountType)}async function he(){"Admin"==T.value&&""!==ie.value&&""!==ce.value&&""!==de.value&&(await o.Z.put(`/api/account/${re.value}`,{name:ie.value,username:ce.value,password:de.value,accountType:oe.value}).catch((e=>{te.value=e.code,ue.value=e.message})),await o.Z.get("/api/account").then((e=>S.value=e.data)).catch((e=>{te.value=e.code,ue.value=e.message})),a(`Edited account of ${ie.value}`,"EDIT").catch((e=>{te.value=e.code,ue.value=e.message})),be(),re.value="",ve.value=!1)}async function we(){await o.Z["delete"](`/api/account/${re.value}`).catch((e=>{te.value=e.code,ue.value=e.message})),await o.Z.get("/api/account").then((e=>S.value=e.data)).catch((e=>{te.value=e.code,ue.value=e.message})),a(`Deleted account named: ${ie.value}`,"DELETE").catch((e=>{te.value=e.code,ue.value=e.message})),be(),re.value="",ve.value=!1}function be(){re.value="",ie.value="",ce.value="",de.value="",oe.value="Admin"}return(0,t.bv)((async()=>{await o.Z.get("/api/account").then((e=>S.value=e.data)).catch((e=>{te.value=e.code,ue.value=e.message}))})),(e,a)=>((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",_,[(0,t._)("div",m,[(0,t.Wm)(i.Z)]),(0,t._)("div",p,[(0,t._)("section",h,["Admin"!==T.value?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Uk)("As your account is not of the "),b,(0,t.Uk)(" type, certain features will be restricted for you. ")])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,n.C_)(["modal",{"is-active":ve.value}])},[f,(0,t._)("div",g,[(0,t._)("div",y,[re.value?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"button is-danger is-small",onClick:we},"Delete account")):(0,t.kq)("",!0),(0,t._)("h3",k,(0,n.zw)(re.value?"Update Account":"New account"),1),(0,t._)("div",D,[C,(0,t._)("div",U,[(0,t._)("div",A,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>oe.value=e)},Z,512),[[u.bM,oe.value]])])])]),(0,t._)("div",x,[(0,t._)("label",E,(0,n.zw)("Student"==oe.value?"Student ID Number":"Account Name"),1),(0,t._)("div",z,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>ie.value=e)},null,512),[[u.nr,ie.value]])])]),(0,t._)("div",N,[W,(0,t._)("div",$,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>ce.value=e)},null,512),[[u.nr,ce.value]])])]),(0,t._)("div",O,[V,(0,t._)("div",I,[(0,t.wy)((0,t._)("input",{class:"input",type:"password","onUpdate:modelValue":a[3]||(a[3]=e=>de.value=e)},null,512),[[u.nr,de.value]])])]),(0,t._)("div",L,[(0,t._)("button",{class:"button is-danger",onClick:a[4]||(a[4]=e=>(ve.value=!1,be()))},"Cancel"),re.value?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"button is-info",onClick:he},"Update")):((0,t.wg)(),(0,t.iD)("button",{key:0,class:"button is-success",onClick:a[5]||(a[5]=e=>me())},"Confirm"))])])])],2),(0,t.Wm)(c.Z,{"err-code":te.value,"err-message":ue.value},null,8,["err-code","err-message"]),(0,t._)("div",R,[(0,t._)("div",G,[(0,t._)("div",Y,[(0,t._)("div",q,[(0,t._)("div",P,[(0,t.wy)((0,t._)("input",{type:"text",class:"input is-rounded is-medium",placeholder:"Search...","onUpdate:modelValue":a[6]||(a[6]=e=>se.value=e)},null,512),[[u.nr,se.value]]),j])])]),(0,t._)("div",F,[(0,t._)("div",K,[(0,t._)("div",M,[(0,t._)("button",{class:"button is-medium is-rounded",onClick:a[7]||(a[7]=e=>ve.value=!0),disabled:"Admin"!==T.value},[(0,t.Uk)("Add Account Â  "),J],8,B)])])])]),S.value?((0,t.wg)(),(0,t.iD)("div",Q,[0!==Object.keys(S.value).length?((0,t.wg)(),(0,t.iD)("table",X,[ee,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(_e),((e,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:e._id,onClick:a=>pe(e)},[(0,t._)("th",null,(0,n.zw)(a+1),1),(0,t._)("td",null,(0,n.zw)(e.name),1),(0,t._)("td",null,(0,n.zw)(e.username),1),(0,t._)("td",null,(0,n.zw)(e.accountType),1)],8,ae)))),128))])])):((0,t.wg)(),(0,t.iD)("div",le,ne))])):(0,t.kq)("",!0)])])])])]))}});const se=ue;var ie=se}}]);
//# sourceMappingURL=134.af058faa.js.map