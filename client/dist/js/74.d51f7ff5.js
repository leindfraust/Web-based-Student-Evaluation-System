"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[74],{5812:function(e,l,a){a.d(l,{T:function(){return c}});var t=a(4161),s=a(4870),u=a(3718);const n=(0,u.c)(),i=(0,s.iH)(n.$state.credentials),d=(0,s.iH)(i.value._id),o=(0,s.iH)(i.value.name);function c(){async function e(e,l){try{await t.Z.post("/api/logs",{handlerID:d.value,handlerName:o.value,type:l,activity:e,time:new Date})}catch(a){return a}}return{updateLog:e}}},9052:function(e,l,a){a.d(l,{Z:function(){return S}});a(7658);var t=a(3396),s=a(7139),u=a(7674),n=a(3718),i=a(4870),d=a(4161),o=a(2483);const c=e=>((0,t.dD)("data-v-4e3b1b64"),e=e(),(0,t.Cn)(),e),v={class:"navbar is-hidden-desktop"},r={class:"navbar-brand"},_={class:"navbar-item"},m={class:"label"},b=c((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),w=c((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),p=c((()=>(0,t._)("span",{"aria-hidden":"true"},null,-1))),h=[b,w,p],C=c((()=>(0,t._)("figure",{class:"image is-128x128",style:{margin:"auto"}},[(0,t._)("img",{src:u})],-1))),f={class:"title is-2 has-text-centered has-text-white is-hidden-mobile"},g={class:"subtitle has-text-centered has-text-white is-hidden-mobile"},k=c((()=>(0,t._)("hr",null,null,-1))),L=c((()=>(0,t._)("br",null,null,-1))),y={key:0,class:"menu-list has-text-centered"},I={key:1,class:"menu-list has-text-centered"};var D=(0,t.aZ)({__name:"NavPanel",setup(e){const l=(0,o.tv)(),a=(0,n.c)(),u=(0,i.iH)(a.$state.credentials),c=(0,i.iH)(u.value.name),b=(0,i.iH)(u.value.handler),w=(0,i.iH)(!1);async function p(){await d.Z["delete"]("/session"),a.$reset(),l.push("/")}return(e,l)=>{const a=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",v,[(0,t._)("div",r,[(0,t._)("a",_,[(0,t._)("label",m,(0,s.zw)(c.value)+" ("+(0,s.zw)(b.value)+")",1)]),(0,t._)("a",{role:"button",class:(0,s.C_)(["navbar-burger",{"is-active":w.value}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:l[0]||(l[0]=e=>w.value=!w.value)},h,2)])]),(0,t._)("aside",{class:(0,s.C_)(["menu box",{"is-hidden-mobile":!w.value,"is-menu-fullheight-fullwidth":w.value}])},[C,(0,t._)("h2",f,(0,s.zw)(c.value),1),(0,t._)("p",g,"("+(0,s.zw)(b.value)+")",1),k,L,"admin"===b.value?((0,t.wg)(),(0,t.iD)("ul",y,[(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"adminDashboard"}},{default:(0,t.w5)((()=>[(0,t.Uk)("OVERVIEW")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"adminStudentRecords"}},{default:(0,t.w5)((()=>[(0,t.Uk)("STUDENT RECORDS")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"adminAccounts"}},{default:(0,t.w5)((()=>[(0,t.Uk)("ACCOUNTS")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"adminSecurity"}},{default:(0,t.w5)((()=>[(0,t.Uk)("SECURITY")])),_:1})]),(0,t._)("li",null,[(0,t._)("a",{onClick:p},"LOGOUT")])])):((0,t.wg)(),(0,t.iD)("ul",I,[(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"studentGrades"}},{default:(0,t.w5)((()=>[(0,t.Uk)("GRADES")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{to:{name:"studentSecurity"}},{default:(0,t.w5)((()=>[(0,t.Uk)("SECURITY")])),_:1})]),(0,t._)("li",null,[(0,t._)("a",{onClick:p},"LOGOUT")])]))],2)],64)}}}),N=a(89);const E=(0,N.Z)(D,[["__scopeId","data-v-4e3b1b64"]]);var S=E},5074:function(e,l,a){a.r(l),a.d(l,{default:function(){return We}});a(7658);var t=a(3396),s=a(7139),u=a(9242),n=a(4870),i=a(9052),d=a(4161),o=a(8976),c=a(5812);const v={class:"main-wrapper"},r={class:"columns"},_={class:"column is-2"},m={class:"column"},b={class:"section"},w=(0,t._)("div",{class:"modal-background"},null,-1),p={class:"modal-content"},h={class:"container box"},C={class:"container is-fluid"},f=(0,t._)("br",null,null,-1),g=(0,t._)("h3",{class:"title is-3"},"Student Information",-1),k={class:"field"},L=(0,t._)("label",{class:"label"}," Student ID No. ",-1),y={class:"control"},I={class:"field"},D=(0,t._)("label",{class:"label"}," Student Last Name ",-1),N={class:"control"},E={class:"field"},S=(0,t._)("label",{class:"label"}," Student First Name ",-1),H={class:"control"},U={class:"field"},A=(0,t._)("label",{class:"label"}," Student Address ",-1),x={class:"control"},Y={class:"field"},z=(0,t._)("label",{class:"label"}," Student Year Level ",-1),T={class:"control"},V={class:"select"},j=(0,t._)("option",{value:"I"},"I",-1),Z=(0,t._)("option",{value:"II"},"II",-1),F=(0,t._)("option",{value:"III"},"III",-1),O=(0,t._)("option",{value:"IV"},"IV",-1),R=[j,Z,F,O],W={class:"field"},$=(0,t._)("label",{class:"label"}," Student Course ",-1),G={class:"control"},M={class:"field"},q=(0,t._)("label",{class:"label"}," Student Email ",-1),K={class:"control"},P={class:"container is-fluid"},B=(0,t._)("br",null,null,-1),J=(0,t._)("h3",{class:"title is-3"},"Subjects Enrolled ",-1),Q=(0,t._)("div",{class:"block"},null,-1),X={key:0,class:"container"},ee={class:"field"},le=(0,t._)("label",{class:"label"}," Subject Code ",-1),ae={class:"control"},te={class:"field"},se=(0,t._)("label",{class:"label"}," Subject Description ",-1),ue={class:"control"},ne={class:"field"},ie=(0,t._)("label",{class:"label"}," Grade ",-1),de={class:"control"},oe={class:"field"},ce=(0,t._)("label",{class:"label"}," Subject Instructor ",-1),ve={class:"control"},re=(0,t._)("p",{class:"help"},"LAST NAME, FIRST NAME, MIDDLE INITIAL",-1),_e={class:"buttons is-right"},me={key:1,class:"table-container"},be={class:"table is-fullwidth is-hoverable"},we=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th"),(0,t._)("th",null,"Subject Code"),(0,t._)("th",null,"Subject Description"),(0,t._)("th",null,"Grade"),(0,t._)("th",null,"Instructor")])],-1),pe={class:"buttons"},he=["onClick"],Ce=["onClick"],fe=(0,t._)("br",null,null,-1),ge={class:"buttons is-centered"},ke={class:"container"},Le={class:"columns has-text-centered"},ye={class:"column"},Ie={class:"field header-control"},De={class:"control has-icons-right"},Ne=(0,t._)("span",{class:"icon is-right"},[(0,t._)("i",{class:"fas fa-search"})],-1),Ee={class:"column"},Se={class:"field"},He={class:"control has-icons-right"},Ue=(0,t._)("i",{class:"fa-solid fa-plus"},null,-1),Ae={key:0,class:"table-container"},xe={key:0,class:"table is-fullwidth is-hoverable"},Ye=(0,t._)("th",null,"Subjects",-1),ze=(0,t._)("th",null,"GPA",-1),Te=["onClick"],Ve={class:"columns"},je={key:1,class:"container"},Ze=(0,t._)("div",{class:"notification is-info"},"Empty records",-1),Fe=[Ze];var Oe=(0,t.aZ)({__name:"StudentRecordsView",setup(e){const{updateLog:l}=(0,c.T)(),a=(0,n.iH)(""),j=(0,n.iH)(new Array),Z=(0,n.iH)(""),F=(0,n.iH)(""),O=(0,n.iH)(""),Ze=(0,n.iH)(""),Oe=(0,n.iH)(""),Re=(0,n.iH)(""),We=(0,n.iH)("I"),$e=(0,n.iH)(""),Ge=(0,n.iH)(""),Me=(0,n.iH)(new Array),qe=(0,n.iH)(""),Ke=(0,n.iH)(""),Pe=(0,n.iH)(),Be=(0,n.iH)(""),Je=(0,n.iH)(!1),Qe=(0,n.iH)(""),Xe=(0,n.iH)(!1),el=(0,n.iH)();(0,t.bv)((async()=>{await d.Z.get("/api/student-records").then((e=>j.value=e.data)).catch((e=>{Z.value=e.code,F.value=e.msg}))}));const ll=(0,t.Fl)((()=>Me.value)),al=(0,t.Fl)((()=>j.value?a.value?j.value.filter((e=>e.studentIDNo.toLowerCase().includes(a.value.toLowerCase())||e.studentFirstName.toLowerCase().includes(a.value.toLowerCase())||e.studentLastName.toLowerCase().includes(a.value.toLowerCase())||e.studentAddress.toLowerCase().includes(a.value.toLowerCase())||e.studentYearLevel.toLowerCase().includes(a.value.toLowerCase())||e.studentCourse.toLowerCase().includes(a.value.toLowerCase()))).sort(((e,l)=>e.studentLastName.localeCompare(l.studentLastName))):j.value:[]));function tl(){Xe.value=!0,el.value=void 0,qe.value="",Ke.value="",Pe.value="",Be.value=""}function sl(){Me.value.find((e=>e.code==qe.value))||""===qe.value||""===Ke.value||(Me.value.push({code:qe.value,description:Ke.value,grade:Pe.value?parseFloat(Pe.value):0,instructor:Be.value}),qe.value="",Ke.value="",Pe.value="",Be.value="")}function ul(e,l){Xe.value=!0,el.value=l,qe.value=e.code,Ke.value=e.description,Pe.value=e.grade,Be.value=e.instructor}function nl(){ll.value[el.value].code=qe.value,ll.value[el.value].description=Ke.value,ll.value[el.value].grade=Pe.value,ll.value[el.value].instructor=Be.value,Xe.value=!1,el.value=void 0,qe.value="",Ke.value="",Pe.value="",Be.value=""}function il(e){Me.value=Me.value.filter((l=>l.code!==e))}async function dl(){""!==O.value&&""!==Ze.value&&""!==Oe.value&&""!==Re.value&&""!==We.value&&""!==$e.value&&""!==Ge.value&&(await d.Z.post("/api/student-records",{studentIDNo:O.value,studentFirstName:Ze.value,studentLastName:Oe.value,studentAddress:Re.value,studentYearLevel:We.value,studentCourse:$e.value,studentEmail:Ge.value,studentSubjectsEnrolled:Me.value}).catch((e=>{Z.value=e.code,F.value=e.message})),await d.Z.get("/api/student-records").then((e=>j.value=e.data)).catch((e=>{Z.value=e.code,F.value=e.msg})),l(`Added new student record with ID: ${O.value}`,"ADD").catch((e=>{Z.value=e.code,F.value=e.message})),Je.value=!1,rl())}function ol(e){Qe.value=e._id,Je.value=!0,O.value=e.studentIDNo,Ze.value=e.studentFirstName,Oe.value=e.studentLastName,Re.value=e.studentAddress,We.value=e.studentYearLevel,$e.value=e.studentCourse,Ge.value=e.studentEmail,Me.value=e.studentSubjectsEnrolled}async function cl(){""!==O.value&&""!==Ze.value&&""!==Oe.value&&""!==Re.value&&""!==We.value&&""!==$e.value&&""!==Ge.value&&(await d.Z.put(`/api/student-records/${Qe.value}`,{studentIDNo:O.value,studentFirstName:Ze.value,studentLastName:Oe.value,studentAddress:Re.value,studentYearLevel:We.value,studentCourse:$e.value,studentEmail:Ge.value,studentSubjectsEnrolled:Me.value}).catch((e=>{Z.value=e.code,F.value=e.message})),await d.Z.get("/api/student-records").then((e=>j.value=e.data)).catch((e=>{Z.value=e.code,F.value=e.msg})),l(`Edited student record of ID: ${O.value}`,"EDIT").catch((e=>{Z.value=e.code,F.value=e.message})),Xe.value=!1,Je.value=!1,Qe.value="",rl())}async function vl(){await d.Z["delete"](`/api/student-records/${Qe.value}`).catch((e=>{Z.value=e.code,F.value=e.message})),await d.Z.get("/api/student-records").then((e=>j.value=e.data)).catch((e=>{Z.value=e.code,F.value=e.msg})),l(`Deleted student record of ID: ${O.value}`,"DELETE").catch((e=>{Z.value=e.code,F.value=e.message})),Je.value=!1,Qe.value="",rl()}function rl(){O.value="",Ze.value="",Oe.value="",Re.value="",We.value="I",$e.value="",Ge.value="",Me.value=[],qe.value="",Ke.value="",Pe.value=""}function _l(e){if("IDNo"==e)j.value.sort(((e,l)=>parseInt(e.studentIDNo)-parseInt(l.studentIDNo)));else if("lastName"==e||"firstName"==e)j.value.sort(((l,a)=>{const t="lastName"==e?l.studentLastName.toLowerCase():l.studentFirstName.toLowerCase(),s="lastName"==e?a.studentLastName.toLowerCase():a.studentFirstName.toLowerCase();return t.localeCompare(s,void 0,{sensitivity:"accent"})}));else if("Address"==e)j.value.sort(((e,l)=>e.studentAddress.toLowerCase()===l.studentAddress.toLowerCase()?0:e.studentAddress.toLowerCase()<l.studentAddress.toLowerCase()?-1:1));else if("YearLevel"==e){const e=[{I:1},{II:2},{III:3},{IV:4}];j.value.sort(((l,a)=>parseInt(e.find((e=>e[l.studentYearLevel]))[l.studentYearLevel])-parseInt(e.find((e=>e[a.studentYearLevel]))[a.studentYearLevel])))}else"Course"==e?j.value.sort(((e,l)=>{const a=e.studentCourse.toLowerCase(),t=l.studentCourse.toLowerCase();return a>t?1:a<t?-1:0})):"Email"==e?j.value.sort(((e,l)=>e.studentEmail.toLowerCase()>l.studentEmail.toLowerCase()?1:e.studentEmail.toLowerCase()<l.studentEmail.toLowerCase()?-1:0)):j.value.sort()}return(e,l)=>((0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("div",r,[(0,t._)("div",_,[(0,t.Wm)(i.Z)]),(0,t._)("div",m,[(0,t._)("section",b,[(0,t._)("div",{class:(0,s.C_)(["modal",{"is-active":Je.value}])},[w,(0,t._)("div",p,[(0,t._)("div",h,[Qe.value?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"button is-danger is-small",onClick:vl},"DELETE STUDENT INFORMATION")):(0,t.kq)("",!0),(0,t._)("div",C,[f,g,(0,t._)("div",k,[L,(0,t._)("div",y,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>O.value=e)},null,512),[[u.nr,O.value]])])]),(0,t._)("div",I,[D,(0,t._)("div",N,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>Oe.value=e)},null,512),[[u.nr,Oe.value]])])]),(0,t._)("div",E,[S,(0,t._)("div",H,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>Ze.value=e)},null,512),[[u.nr,Ze.value]])])]),(0,t._)("div",U,[A,(0,t._)("div",x,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>Re.value=e)},null,512),[[u.nr,Re.value]])])]),(0,t._)("div",Y,[z,(0,t._)("div",T,[(0,t._)("div",V,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>We.value=e)},R,512),[[u.bM,We.value]])])])]),(0,t._)("div",W,[$,(0,t._)("div",G,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>$e.value=e)},null,512),[[u.nr,$e.value]])])]),(0,t._)("div",M,[q,(0,t._)("div",K,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[6]||(l[6]=e=>Ge.value=e)},null,512),[[u.nr,Ge.value]])])])]),(0,t._)("div",P,[B,J,(0,t._)("button",{class:"button is-info",onClick:tl},"Add Subject"),Q,Xe.value?((0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("div",ee,[le,(0,t._)("div",ae,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[7]||(l[7]=e=>qe.value=e)},null,512),[[u.nr,qe.value]])])]),(0,t._)("div",te,[se,(0,t._)("div",ue,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[8]||(l[8]=e=>Ke.value=e)},null,512),[[u.nr,Ke.value]])])]),(0,t._)("div",ne,[ie,(0,t._)("div",de,[(0,t.wy)((0,t._)("input",{class:"input",type:"number","onUpdate:modelValue":l[9]||(l[9]=e=>Pe.value=e)},null,512),[[u.nr,Pe.value]])])]),(0,t._)("div",oe,[ce,(0,t._)("div",ve,[(0,t.wy)((0,t._)("input",{class:"input",type:"text","onUpdate:modelValue":l[10]||(l[10]=e=>Be.value=e)},null,512),[[u.nr,Be.value]])]),re]),(0,t._)("div",_e,[(0,t._)("button",{class:"button is-danger is-light",onClick:l[11]||(l[11]=e=>Xe.value=!1)},"Cancel"),void 0==el.value?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"button is-success is-light",onClick:sl},"Confirm")):((0,t.wg)(),(0,t.iD)("button",{key:1,class:"button is-info is-light",onClick:nl}," Update "))])])):(0,t.kq)("",!0),0!==Object.keys((0,n.SU)(ll)).length?((0,t.wg)(),(0,t.iD)("table",me,[(0,t._)("div",be,[we,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(ll),((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:l},[(0,t._)("th",null,[(0,t._)("div",pe,[(0,t._)("button",{class:"button is-info is-small",onClick:a=>ul(e,l)},"Edit",8,he),(0,t._)("button",{class:"button is-danger is-small",onClick:l=>il(e.code)},"Remove",8,Ce)])]),(0,t._)("th",null,(0,s.zw)(e.code),1),(0,t._)("td",null,(0,s.zw)(e.description),1),(0,t._)("td",null,(0,s.zw)(e.grade),1),(0,t._)("td",null,(0,s.zw)(e.instructor),1)])))),128))])])])):(0,t.kq)("",!0)]),fe,(0,t._)("div",ge,[(0,t._)("button",{class:"button is-danger",onClick:l[12]||(l[12]=e=>(Je.value=!1,rl(),Qe.value=""))},"Cancel"),Qe.value?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"button is-info",onClick:cl},"Update")):((0,t.wg)(),(0,t.iD)("button",{key:0,class:"button is-success",onClick:dl},"Confirm"))])])])],2),(0,t._)("div",ke,[(0,t.Wm)(o.Z,{"err-code":Z.value,"err-message":F.value},null,8,["err-code","err-message"]),(0,t._)("div",Le,[(0,t._)("div",ye,[(0,t._)("div",Ie,[(0,t._)("div",De,[(0,t.wy)((0,t._)("input",{type:"text",class:"input is-rounded is-medium",placeholder:"Search...","onUpdate:modelValue":l[13]||(l[13]=e=>a.value=e)},null,512),[[u.nr,a.value]]),Ne])])]),(0,t._)("div",Ee,[(0,t._)("div",Se,[(0,t._)("div",He,[(0,t._)("button",{class:"button is-medium is-rounded",onClick:l[14]||(l[14]=e=>Je.value=!0)},[(0,t.Uk)("Add Student   "),Ue])])])])]),j.value?((0,t.wg)(),(0,t.iD)("div",Ae,[0!==Object.keys(j.value).length?((0,t.wg)(),(0,t.iD)("table",xe,[(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{onClick:l[15]||(l[15]=e=>_l("IDNo"))},"ID No."),(0,t._)("th",{onClick:l[16]||(l[16]=e=>_l("lastName"))},"Last Name"),(0,t._)("th",{onClick:l[17]||(l[17]=e=>_l("firstName"))},"First Name"),(0,t._)("th",{onClick:l[18]||(l[18]=e=>_l("Address"))},"Address"),(0,t._)("th",{onClick:l[19]||(l[19]=e=>_l("YearLevel"))},"Year Level"),(0,t._)("th",{onClick:l[20]||(l[20]=e=>_l("Course"))},"Course"),(0,t._)("th",{onClick:l[21]||(l[21]=e=>_l("Email"))},"Email"),Ye,ze])]),(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,n.SU)(al),(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e._id,onClick:l=>ol(e)},[(0,t._)("th",null,(0,s.zw)(e.studentIDNo),1),(0,t._)("td",null,(0,s.zw)(e.studentLastName),1),(0,t._)("td",null,(0,s.zw)(e.studentFirstName),1),(0,t._)("td",null,(0,s.zw)(e.studentAddress),1),(0,t._)("td",null,(0,s.zw)(e.studentYearLevel),1),(0,t._)("td",null,(0,s.zw)(e.studentCourse),1),(0,t._)("td",null,(0,s.zw)(e.studentEmail),1),(0,t._)("td",null,[(0,t._)("div",Ve,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.studentSubjectsEnrolled,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"column",key:e},(0,s.zw)(e.code)+": "+(0,s.zw)(e.grade),1)))),128))])]),(0,t._)("td",null,(0,s.zw)(e.studentSubjectsEnrolled.reduce(((l,a)=>l+a.grade/e.studentSubjectsEnrolled.length),0)),1)],8,Te)))),128))])])):((0,t.wg)(),(0,t.iD)("div",je,Fe))])):(0,t.kq)("",!0)])])])])]))}});const Re=Oe;var We=Re}}]);
//# sourceMappingURL=74.d51f7ff5.js.map